---
import "../styles/global.css";
import Layout from "../layouts/Layout.astro";
import HeaderVideo from "../components/HeaderVideo.astro";
import Servicios from "../components/Servicios.astro";
import Contacto from "../components/Contacto.astro";
import Resenas from "../components/Resenas.astro";
---

<Layout>
  <HeaderVideo />

  <!-- Contenido principal -->
  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

    <!-- Sección de Servicios -->
    <div class="scroll-animate" style="transition-delay: 0.1s;">
      <Servicios/>
    </div>

    <!-- Sección de Reseñas  -->
    <div class="scroll-animate" style="transition-delay: 0.2s;">
      <Resenas/>
    </div>

    <!-- Sección de Contacto -->
    <div class="scroll-animate" style="transition-delay: 0.3s;">
      <Contacto />
    </div>
  </main>

  <!-- Footer -->
  <footer class="text-white py-8" style="background-color: #4d3124;">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <p>&copy; 2025 Apapacho Colón. Todos los derechos reservados.</p>
    </div>
  </footer>
</Layout>

<style>
  /* Animación de entrada al scroll */
  .scroll-animate {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .scroll-animate.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Reducir movimiento para usuarios que lo prefieren */
  @media (prefers-reduced-motion: reduce) {
    .scroll-animate {
      transform: none;
      transition: opacity 0.3s ease-out;
    }
  }
</style>

<script>
  // Intersection Observer para animaciones al scroll
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target); // Dejar de observar después de animar
      }
    });
  }, observerOptions);

  // Observar todos los elementos con la clase scroll-animate
  document.querySelectorAll('.scroll-animate').forEach(el => {
    observer.observe(el);
  });
</script>
